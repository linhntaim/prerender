{"version":3,"file":"render-server-manager.js","names":["RenderServerManager","servers","defaultServer","getEnv","server","getDefaultDriver","createServer","createPrerenderIoServer","createDefaultServer","RenderServer","PrerenderIoServer","s","start"],"sources":["../../src/classes/render-server-manager.js"],"sourcesContent":["import {getEnv} from 'dotenv-packed'\r\nimport RenderServer from './render-server'\r\nimport PrerenderIoServer from './prerender-io-server'\r\n\r\nexport default class RenderServerManager\r\n{\r\n    constructor() {\r\n        this.servers = {}\r\n    }\r\n\r\n    getDefaultDriver() {\r\n        const defaultServer = getEnv('DEFAULT_SERVER')\r\n        return defaultServer ? defaultServer : 'default'\r\n    }\r\n\r\n    server(server = null) {\r\n        server = server ? server : this.getDefaultDriver()\r\n        if (!(server in this.servers)) {\r\n            return this.servers[server] = this.createServer(server)\r\n        }\r\n        return this.servers[server]\r\n    }\r\n\r\n    createServer(server) {\r\n        switch (server) {\r\n            case 'prerender_io':\r\n                return this.createPrerenderIoServer()\r\n            default:\r\n                return this.createDefaultServer()\r\n        }\r\n    }\r\n\r\n    createDefaultServer() {\r\n        return new RenderServer()\r\n    }\r\n\r\n    createPrerenderIoServer() {\r\n        return new PrerenderIoServer()\r\n    }\r\n\r\n    start(server = null) {\r\n        const s = this.server(server)\r\n        return !s || s.start()\r\n    }\r\n}\r\n"],"mappings":"gGAAA,2CACA,qEACA,gF,2wBAEqBA,oB,yBAEjB,8BAAc,2CACV,KAAKC,OAAL,CAAe,EAClB,C,gEAED,2BAAmB,CACf,GAAMC,cAAa,CAAG,GAAAC,oBAAA,EAAO,gBAAP,CAAtB,CACA,MAAOD,cAAa,CAAGA,aAAH,CAAmB,SAC1C,C,sBAED,iBAAsB,IAAfE,QAAe,2DAAN,IAAM,CAClBA,OAAM,CAAGA,OAAM,CAAGA,OAAH,CAAY,KAAKC,gBAAL,EAA3B,CACA,GAAI,EAAED,OAAM,GAAI,MAAKH,OAAjB,CAAJ,CAA+B,CAC3B,MAAO,MAAKA,OAAL,CAAaG,OAAb,EAAuB,KAAKE,YAAL,CAAkBF,OAAlB,CACjC,CACD,MAAO,MAAKH,OAAL,CAAaG,OAAb,CACV,C,4BAED,sBAAaA,MAAb,CAAqB,CACjB,OAAQA,MAAR,EACI,IAAK,cAAL,CACI,MAAO,MAAKG,uBAAL,EAAP,CACJ,QACI,MAAO,MAAKC,mBAAL,EAAP,CAJR,CAMH,C,mCAED,8BAAsB,CAClB,MAAO,IAAIC,yBACd,C,uCAED,kCAA0B,CACtB,MAAO,IAAIC,8BACd,C,qBAED,gBAAqB,IAAfN,OAAe,2DAAN,IAAM,CACjB,GAAMO,EAAC,CAAG,KAAKP,MAAL,CAAYA,MAAZ,CAAV,CACA,MAAO,CAACO,CAAD,EAAMA,CAAC,CAACC,KAAF,EAChB,C"}